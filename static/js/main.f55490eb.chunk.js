(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a(536)},322:function(e,t){},324:function(e,t){},358:function(e,t){},359:function(e,t){},536:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchContacts",function(){return le}),a.d(n,"fetchContactDetail",function(){return se}),a.d(n,"createContact",function(){return ue}),a.d(n,"deleteContact",function(){return me}),a.d(n,"updateContact",function(){return he});var r=a(0),i=a.n(r),c=a(24),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=a(31),u=a(539),m=a(222),h=a.n(m),f=a(213),d=a.n(f),p=a(215),E=a.n(p),C=a(25),v=a.n(C),_=a(21),g=a(26),T=a.n(g),b=a(288),S=a(537),O=Object(_.withStyles)({root:{flexGrow:1},grow:{flexGrow:1,textDecoration:"none",color:"white"},link:{textDecoration:"none",color:"white"},button:{color:"white"}})(function(e){var t=e.classes;return i.a.createElement(d.a,{color:"primary",className:t.root,position:"sticky"},i.a.createElement(E.a,null,i.a.createElement(v.a,{variant:"title",color:"inherit",className:t.grow},i.a.createElement(b.a,{to:"/contacts",className:t.link},"Contact List")),i.a.createElement(S.a,{className:t.link,to:"/contacts",activeStyle:{textDecoration:"underline",color:"white"}},i.a.createElement(T.a,{className:t.button,color:"inherit"},"Contacts")),i.a.createElement(S.a,{className:t.link,to:"/create",activeStyle:{textDecoration:"underline",color:"white"}},i.a.createElement(T.a,{className:t.button,color:"inherit"},"Add New"))))}),y=a(540),A=a(289),j=a(538),w=a(28),N=a(29),D=a(32),U=a(30),F=a(33),k=a(122),I=a.n(k),L=a(216),x=a.n(L),R=a(218),H=a.n(R),P=a(124),M=a.n(P),z=a(541),B=a(217),W=a.n(B),Q=Object(_.withStyles)({root:{textDecoration:"none"}})(Object(z.a)(function(e){var t=e.contact,a=e.match,n=e.classes,r="".concat(t.first_name," ").concat(t.last_name);return i.a.createElement(b.a,{to:"".concat(a.url,"/").concat(t.id),className:n.root},i.a.createElement(x.a,{key:t.id,dense:!0,button:!0},t.avatar?i.a.createElement(M.a,{alt:r,src:"".concat("/contact-list").concat(t.avatar)}):i.a.createElement(M.a,null,i.a.createElement(W.a,null)),i.a.createElement(H.a,{primary:r})))})),V=function(e){var t=e.contacts;return i.a.createElement(I.a,null,t.map(function(e){return i.a.createElement(Q,{key:e.id,contact:e})}))},q=a(39),G=a(219),J={contacts:[{id:1,first_name:"Marchall",last_name:"Abdee",email:"mabdee0@behance.net",phone:"2539464783",avatar:"/avatars/24.jpg"},{id:2,first_name:"Traver",last_name:"Cubbin",email:"tcubbin1@hubpages.com",phone:"6396783628",avatar:"/avatars/1.jpg"},{id:3,first_name:"Silas",last_name:"Asif",email:"sasif2@mediafire.com",phone:"2639487629",avatar:"/avatars/2.jpg"},{id:4,first_name:"Dennie",last_name:"Betz",email:"dbetz3@unc.edu",phone:"6483764927",avatar:"/avatars/3.jpg"},{id:5,first_name:"Burch",last_name:"McNae",email:"bmcnae4@cmu.edu",phone:"2639487629",avatar:"/avatars/4.jpg"},{id:6,first_name:"Adorne",last_name:"Cunio",email:"acunio5@eepurl.com",phone:"2639487629",avatar:"/avatars/5.jpg"},{id:7,first_name:"Aeriela",last_name:"Greaterex",email:"agreaterex6@bbc.co.uk",phone:"2639487629",avatar:"/avatars/6.jpg"},{id:8,first_name:"Lottie",last_name:"Massel",email:"lmassel7@mit.edu",phone:"2639487629",avatar:"/avatars/7.jpg"},{id:9,first_name:"Lisetta",last_name:"Cudiff",email:"lcudiff8@shutterfly.com",phone:"2639487629",avatar:"/avatars/8.jpg"},{id:10,first_name:"Konstanze",last_name:"Cosgreave",email:"kcosgreave9@shareasale.com",avatar:"/avatars/9.jpg"},{id:11,first_name:"Sheridan",last_name:"Dagg",email:"sdagga@soundcloud.com",phone:"2639487629",avatar:"/avatars/10.jpg"},{id:12,first_name:"Vonnie",last_name:"Duval",email:"vduvalb@4shared.com",phone:"2639487629",avatar:"/avatars/11.jpg"},{id:13,first_name:"Justis",last_name:"Labitt",email:"jlabittc@slashdot.org",phone:"2639487629",avatar:"/avatars/12.jpg"},{id:14,first_name:"Katherina",last_name:"Tamburi",email:"ktamburid@google.com.br",phone:"2639487629",avatar:"/avatars/13.jpg"},{id:15,first_name:"Mariellen",last_name:"Venturoli",email:"mventurolie@ehow.com",phone:"2639487629",avatar:"/avatars/14.jpg"},{id:16,first_name:"Hermie",last_name:"Brave",email:"hbravef@addtoany.com",phone:"2639487629",avatar:"/avatars/15.jpg"},{id:17,first_name:"Vick",last_name:"Huzzey",email:"vhuzzeyg@php.net",phone:"2639487629",avatar:"/avatars/16.jpg"},{id:18,first_name:"Elisha",last_name:"Roelvink",email:"eroelvinkh@alexa.com",phone:"2639487629",avatar:"/avatars/17.jpg"},{id:19,first_name:"Otho",last_name:"Balding",email:"obaldingi@usa.gov",phone:"2639487629",avatar:"/avatars/18.jpg"},{id:20,first_name:"Thayne",last_name:"Bourne",email:"tbournej@jugem.jp",phone:"2639487629",avatar:"/avatars/19.jpg"},{id:21,first_name:"Raul",last_name:"Lorait",email:"rloraitk@multiply.com",phone:"2639487629",avatar:"/avatars/20.jpg"},{id:22,first_name:"Mathilda",last_name:"MacMeekan",email:"mmacmeekanl@google.ru",phone:"2639487629",avatar:"/avatars/21.jpg"},{id:23,first_name:"Hakim",last_name:"Shillaber",email:"hshillaberm@artisteer.com",phone:"2639487629",avatar:"/avatars/22.jpg"},{id:24,first_name:"Tally",last_name:"Sharplin",email:"tsharplinn@spotify.com",phone:"2639487629",avatar:"/avatars/23.jpg"}].map(function(e){return Object(q.a)({},e,{id:e.id.toString(),avatar_large:e.avatar})})},K=function(e){return new Promise(function(t){return setTimeout(t,e)})},X=a(34),$=a(125),Y=a.n($),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTACTS_SUCCESS":return Y()({},e,t.response.entities.contacts);case"FETCH_CONTACT_DETAIL_SUCCESS":case"CREATE_CONTACT_SUCCESS":case"UPDATE_CONTACT_SUCCESS":var a=Y()({},e,t.response.entities.contacts);return a[t.response.result].isDetailFetched=!0,a;case"DELETE_CONTACT_SUCCESS":var n=Object(q.a)({},e);return delete n[t.id],n;default:return e}},ee=a(223),te=Object(X.c)({ids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTACTS_SUCCESS":return t.response.result;case"FETCH_CONTACT_DETAIL_SUCCESS":case"CREATE_CONTACT_SUCCESS":return e.some(function(e){return e===t.response.result})?e:Object(ee.a)(e).concat([t.response.result]);case"DELETE_CONTACT_SUCCESS":return e.filter(function(e){return e!==t.id});default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"FETCH_CONTACT_DETAIL_REQUEST":case"FETCH_CONTACTS_REQUEST":return!0;case"FETCH_CONTACT_DETAIL_SUCCESS":case"FETCH_CONTACT_DETAIL_FAILURE":case"FETCH_CONTACTS_SUCCESS":case"FETCH_CONTACTS_FAILURE":return!1;default:return e}},isListFetched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"FETCH_CONTACTS_SUCCESS":return!0;default:return e}},errorMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTACT_DETAIL_FAILURE":return t.error.message;case"FETCH_CONTACT_DETAIL_REQUEST":case"FETCH_CONTACT_DETAIL_SUCCESS":return null;default:return e}}}),ae=te,ne=Object(X.c)({byId:Z,list:ae}),re=function(e){return function(e){return e.ids}(e.list).map(function(t){return function(e,t){return e[t]}(e.byId,t)})},ie=function(e,t){return re(e).find(function(e){return e.id===t})},ce=function(e){return function(e){return e.isFetching}(e.list)},oe=ne,le=function(){return{types:["FETCH_CONTACTS_REQUEST","FETCH_CONTACTS_SUCCESS","FETCH_CONTACTS_FAILURE"],callAPI:function(){return K(500).then(function(){return J.contacts.map(function(e){return{id:e.id,first_name:e.first_name,last_name:e.last_name,avatar:e.avatar}})})},shouldCallAPI:function(e){return!function(e){return function(e){return e.isListFetched}(e.list)}(e)}}},se=function(e){return{types:["FETCH_CONTACT_DETAIL_REQUEST","FETCH_CONTACT_DETAIL_SUCCESS","FETCH_CONTACT_DETAIL_FAILURE"],callAPI:function(){return function(e){return K(500).then(function(){var t=J.contacts.find(function(t){return t.id===e});if(!t)throw new Error("cant find that one!");return t})}(e)},shouldCallAPI:function(t){return!function(e,t){return function(e,t){return e[t]&&e[t].isDetailFetched}(e.byId,t)}(t,e)},payload:{id:e}}},ue=function(e){return{types:["CREATE_CONTACT_REQUEST","CREATE_CONTACT_SUCCESS","CREATE_CONTACT_FAILURE"],callAPI:function(){return a=(t=e).first_name,n=t.last_name,r=t.email,i=t.phone,K(500).then(function(){var e={id:Object(G.v4)(),first_name:a,last_name:n,email:r,phone:i};return J.contacts.push(e),e});var t,a,n,r,i}}},me=function(e){return{types:["DELETE_CONTACT_REQUEST","DELETE_CONTACT_SUCCESS","DELETE_CONTACT_FAILURE"],callAPI:function(){return function(e){return K(500).then(function(){J.contacts=J.contacts.filter(function(t){return t.id!==e})})}(e)},payload:{id:e}}},he=function(e){return{types:["UPDATE_CONTACT_REQUEST","UPDATE_CONTACT_SUCCESS","UPDATE_CONTACT_FAILURE"],callAPI:function(){return t=e,K(500).then(function(){return J.contacts.forEach(function(e,a,n){e.id===t.id&&(n[a]=t)}),t});var t},payload:{id:e}}},fe=a(220),de=a.n(fe),pe=Object(_.withStyles)({root:{width:"100%",display:"flex",justifyContent:"center",padding:20}})(function(e){var t=e.isVisible,a=e.classes;return t?i.a.createElement("div",{className:a.root},i.a.createElement(de.a,{size:50})):null}),Ee=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).fetchData=function(){a.props.fetchContacts()},a}return Object(F.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props,t=e.list,a=e.isFetching&&0===t.length;return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe,{isVisible:a}),i.a.createElement(V,{contacts:t}))}}]),t}(r.Component),Ce=Object(s.b)(function(e){return{list:re(e),isFetching:ce(e)}},n)(Ee),ve=a(90),_e=a.n(ve),ge=a(92),Te=a.n(ge),be=a(91),Se=a.n(be),Oe=a(221),ye=a.n(Oe),Ae=function(e){return i.a.createElement("div",Object.assign({style:{padding:"15px"}},e),e.children)},je=Object(z.a)(Object(_.withStyles)({card:{maxWidth:400,margin:"30px auto"},media:{height:300,objectFit:"cover"}})(function(e){var t=e.contact,a=void 0===t?{}:t,n=e.classes,r=e.handleRequestDelete,c=e.loading,o=e.id;return i.a.createElement(Ae,null,i.a.createElement(_e.a,{className:n.card},a.avatar_large&&i.a.createElement(ye.a,{className:n.media,image:"".concat("/contact-list").concat(a.avatar_large)}),i.a.createElement(pe,{isVisible:c}),!c&&i.a.createElement(Se.a,null,i.a.createElement(v.a,{gutterBottom:!0,variant:"headline",component:"h2"},a.first_name," ",a.last_name),i.a.createElement(v.a,{component:"p"},"Email: ",a.email),i.a.createElement(v.a,{component:"p"},"Phone: ",a.phone)),i.a.createElement(Te.a,null,i.a.createElement(b.a,{to:"/edit/".concat(o)},i.a.createElement(T.a,{size:"small",color:"primary"},"Edit")),i.a.createElement(T.a,{size:"small",color:"primary",onClick:r},"Delete"))))})),we=function(e){var t=e.message,a=e.handleRetry;return i.a.createElement(Ae,null,i.a.createElement(_e.a,null,i.a.createElement(Se.a,null,i.a.createElement(v.a,{gutterBottom:!0,variant:"headline",component:"h2"},"Something went wrong..."),i.a.createElement(v.a,{gutterBottom:!0,component:"p"},t)),i.a.createElement(Te.a,null,i.a.createElement(T.a,{color:"primary",onClick:a},"Retry"))))},Ne=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).fetchData=function(){var e=a.props.match.params.id;a.props.fetchContactDetail(e)},a.handleRequestDelete=function(){var e=a.props,t=e.match,n=e.deleteContact,r=e.history;n(t.params.id).then(function(){return r.push("/contacts")})},a}return Object(F.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.contact;return this.props.errorMessage?i.a.createElement(we,{message:this.props.errorMessage,handleRetry:this.fetchData}):i.a.createElement(je,{contact:e,handleRequestDelete:this.handleRequestDelete,loading:this.props.isFetching,id:this.props.match.params.id})}}]),t}(r.Component),De=Object(s.b)(function(e,t){return{contact:ie(e,t.match.params.id),isFetching:ce(e),errorMessage:function(e){return function(e){return e.errorMessage}(e.list)}(e)}},n)(Ne),Ue=a(89),Fe=a(44),ke=a.n(Fe),Ie=a(63),Le=a.n(Ie),xe=a(62),Re=a.n(xe),He=Object(_.withStyles)({paper:{maxWidth:600,margin:"30px auto",padding:15}})(function(e){var t=e.handleInputChange,a=e.handleSave,n=e.values,r=e.classes,c=e.title;return i.a.createElement(Ae,null,i.a.createElement(Re.a,{className:r.paper},i.a.createElement(v.a,{variant:"title",gutterBottom:!0},c),i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(ke.a,{container:!0,spacing:24},i.a.createElement(ke.a,{item:!0,xs:12,sm:6},i.a.createElement(Le.a,{name:"first_name",label:"First Name",value:n.first_name,onChange:function(e){return t(e)},margin:"normal",fullWidth:!0})),i.a.createElement(ke.a,{item:!0,xs:12,sm:6},i.a.createElement(Le.a,{name:"last_name",label:"Last Name",value:n.last_name,onChange:function(e){return t(e)},margin:"normal",fullWidth:!0})),i.a.createElement(ke.a,{item:!0,xs:12,sm:6},i.a.createElement(Le.a,{name:"email",label:"Email",value:n.email,onChange:function(e){return t(e)},margin:"normal",fullWidth:!0})),i.a.createElement(ke.a,{item:!0,xs:12,sm:6},i.a.createElement(Le.a,{name:"phone",label:"Phone",value:n.phone,onChange:function(e){return t(e)},margin:"normal",fullWidth:!0})),i.a.createElement(ke.a,{item:!0,xs:12},i.a.createElement(T.a,{variant:"contained",color:"primary",onClick:a},"Save"))))))}),Pe=function(e){function t(e){var a;Object(w.a)(this,t),(a=Object(D.a)(this,Object(U.a)(t).call(this,e))).handleSave=function(){a.props.handleSave(a.state)},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(Ue.a)({},r,n))};return a.state=a.props.existingContact||{first_name:"",last_name:"",email:"",phone:""},a}return Object(F.a)(t,e),Object(N.a)(t,[{key:"componentDidUpdate",value:function(e){e.existingContact!==this.props.existingContact&&this.setState(this.props.existingContact)}},{key:"render",value:function(){return i.a.createElement(He,{handleInputChange:this.handleInputChange,handleSave:this.handleSave,values:this.state,title:this.props.title})}}]),t}(r.Component),Me=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).handleCreateContact=function(e){var t=a.props,n=t.createContact,r=t.history;n(e).then(function(){return r.push("/contacts")})},a}return Object(F.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return i.a.createElement(Pe,{handleSave:this.handleCreateContact,title:"Create New Contact"})}}]),t}(r.Component),ze=Object(s.b)(null,n)(Me),Be=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).fetchData=function(){var e=a.props.match.params.id;a.props.fetchContactDetail(e)},a.handleUpdateContact=function(e){var t=a.props,n=t.updateContact,r=t.history;n(e).then(function(){return r.push("/contacts")})},a}return Object(F.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return i.a.createElement(Pe,{handleSave:this.handleUpdateContact,existingContact:this.props.contact,title:"Edit Contact Details"})}}]),t}(r.Component),We=Object(s.b)(function(e,t){return{contact:ie(e,t.match.params.id)}},n)(Be),Qe=function(){return i.a.createElement(y.a,null,i.a.createElement(A.a,{exact:!0,path:"/contacts",component:Ce}),i.a.createElement(A.a,{exact:!0,path:"/contacts/:id",component:De}),i.a.createElement(A.a,{exact:!0,path:"/create",component:ze}),i.a.createElement(A.a,{path:"/edit/:id",component:We}),i.a.createElement(A.a,{render:function(){return i.a.createElement(j.a,{to:"/contacts"})}}))},Ve=a(224),qe=a(52),Ge=new qe.schema.Entity("contacts"),Je=new qe.schema.Array(Ge),Ke=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){var r=n.types,i=n.callAPI,c=n.shouldCallAPI,o=void 0===c?function(){return!0}:c,l=n.payload,s=void 0===l?{}:l;if(!r)return e(n);if(!Array.isArray(r)||3!==r.length||!r.every(function(e){return"string"===typeof e}))throw new Error("Expected an array of three string types.");if("function"!==typeof i)throw new Error("Expected callAPI to be a function.");if(o(a())){var u=Object(Ve.a)(r,3),m=u[0],h=u[1],f=u[2];return t(Object(q.a)({},s,{type:m})),i().then(function(e){var a=null;e&&!Array.isArray(e)?a=Object(qe.normalize)(e,Ge):e&&Array.isArray(e)&&(a=Object(qe.normalize)(e,Je)),t(Object(q.a)({},s,{response:a,type:h}))},function(e){return t(Object(q.a)({},s,{error:e,type:f}))})}}}},Xe=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,t=[Ke];return Object(X.e)(oe,e(X.a.apply(void 0,t)))}(),$e=Object(_.createMuiTheme)({palette:{primary:{light:"#4dabf5",main:"#2196f3",dark:"#1769aa",contrastText:"#fff"}}}),Ye=function(){return i.a.createElement(_.MuiThemeProvider,{theme:$e},i.a.createElement(s.a,{store:Xe},i.a.createElement(u.a,{basename:"/contact-list"},i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null),i.a.createElement(O,null),i.a.createElement(Qe,null)))))};Object(c.render)(i.a.createElement(Ye,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/contact-list",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/contact-list","/service-worker.js");o?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()}},[[225,2,1]]]);
//# sourceMappingURL=main.f55490eb.chunk.js.map